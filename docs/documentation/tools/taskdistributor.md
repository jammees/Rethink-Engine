TaskDistributor is a module created for handling tasks in a large scale. This module is mainly used in
Scene. For instance to handle the creation of thousans of objects or to flush them.

## API

<hr>

### TaskDistributor.new()

Constructs a new TaskDistributor class.

<br>

### TaskDistributor.GenerateChunk(`data`, `chunkSize`)

Splits up the data table into smaller chunks and than returns it in the form of a CachedChunk
object.

#### Arguments

- **data** - Expects to get a table to get split up
- **chunkSize** - Expects a number, that controls how many objects are there in one split up table

#### Returns

- CachedChunk
```lua
type CachedChunk = {
    Chunk: { [ number ]: { [ number ]: any } },
    DataSize: number,
}
```

#### Example

```lua
local TaskDistributor = require(PATH.TO.MODULE)

-- This will split up a table that has 100 objects into tables of 10
local chunk = TaskDistributor.GenerateChunk(table.create(100, Instance.new("Part", game.Lighting)), 10)

print(chunk)
```

<br>

### TaskDistributor:Distribute(`chunkData`, `processor`): `Promise`

#### Arguments

- **chunkData** - Expects to get a chunk that was generated by `.GenerateChunk`
- **processor** - Expects a function that is used to process each object in the chunk

!!! info "Processor"

    The processor function should always accept as the first argument the objects themselves.
    Check below for an example of an example of how the function should look like!

#### Returns

- Promise class

!!! warning

    It is generally a good practice to attach `:await` aftter the `:Distribute` function, because in default
    ROBLOX would not wait for the function to finish, because Promise by default makes the attached function asynchronous.

    If the asynchronous behaviour is desired to be kept, a recommended way to still know when it finished is by
    attaching `:andThen(function() end)` to your code!

    It is recommended to check out the [documentation of Promise](https://eryn.io/roblox-lua-promise/)!

## Example

```lua
local TaskDistributor = require(PATH.TO.MODULE)

local chunk = TaskDistributor.GenerateChunk(table.create(100, Instance.new("Part", game.Lighting)), 10)

TaskDistributor:Distribute(chunk, function(object)
    -- In this function we can put any code that is related to the object
    -- For example renaming each part and moving them to workspace
    object.Name = "Hello TaskDistributor!"
    object.Parent = workspace
end):await()

print("Done processing!")
```